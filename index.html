<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Queen, Syafiqah Ismah üíñ</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap');

        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Poppins', sans-serif; }

        /* Welcome Overlay - Essential for Music Autoplay */
        #welcomeOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 2000; transition: 0.8s ease; text-align: center; color: white;
        }

        #welcomeOverlay h2 { font-family: 'Dancing Script', cursive; font-size: 2.8rem; margin-bottom: 20px; text-shadow: 2px 2px 10px rgba(0,0,0,0.1); }

        .start-btn {
            background: white; color: #ff416c; border: none; padding: 18px 45px;
            border-radius: 50px; font-weight: 600; font-size: 1.2rem; cursor: pointer;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); transition: 0.3s;
            animation: pulse 1.5s infinite;
        }

        /* Main Container */
        .main-container {
            background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
            height: 100vh; display: flex; justify-content: center; align-items: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            width: 85%; max-width: 380px; padding: 35px 20px; border-radius: 35px;
            text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.25);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .profile-img { 
            width: 150px; height: 150px; border-radius: 50%; 
            object-fit: cover; border: 5px solid white; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.1); margin-bottom: 10px; 
        }
        
        h1 { font-family: 'Dancing Script', cursive; color: #d63384; font-size: 2.2rem; margin: 10px 0; }
        
        .tag { 
            background: #ffecf0; color: #ff416c; padding: 6px 20px; 
            border-radius: 25px; font-weight: 600; font-size: 0.9rem; 
            margin-bottom: 20px; display: inline-block; 
        }

        /* Countdown Grid */
        #countdown { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; }
        .time-box { background: #fffcfc; padding: 10px; border-radius: 12px; min-width: 50px; border: 1px solid #eee; }
        .time-val { color: #ff416c; font-weight: 700; font-size: 1.2rem; display: block; }
        .time-lab { font-size: 0.6rem; color: #aaa; text-transform: uppercase; }

        .btn-heart { 
            background: #ff416c; color: white; border: none; 
            padding: 15px; border-radius: 50px; width: 100%; 
            font-weight: 600; cursor: pointer; font-size: 1rem; 
            transition: 0.3s;
        }

        /* Letter Modal */
        #letterModal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 2100; justify-content: center; align-items: center; padding: 20px;
        }
        .letter-content { 
            background: #fff; width: 100%; max-width: 420px; 
            padding: 30px; border-radius: 25px; line-height: 1.7; 
            max-height: 75vh; overflow-y: auto; position: relative; 
        }

        .music-control { 
            position: fixed; bottom: 20px; right: 20px; background: white; 
            border-radius: 50%; width: 45px; height: 45px; display: flex; 
            justify-content: center; align-items: center; box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
            cursor: pointer; z-index: 100; 
        }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <div id="welcomeOverlay">
        <h2>For Syafiqah Ismah...</h2>
        <button class="start-btn" onclick="initExperience()">Tap to Start üéÅ</button>
    </div>

    <div id="player"></div>

    <div class="main-container">
        <div class="card">
            <img src="https://i.postimg.cc/zvgctmSz/IMG-7739.jpg" class="profile-img">
            <h1>Syafiqah Ismah</h1>
            <div class="tag">945 Days of Us üíñ</div>
            
            <div id="countdown">
                <div class="time-box"><span id="days" class="time-val">00</span><span class="time-lab">Days</span></div>
                <div class="time-box"><span id="hours" class="time-val">00</span><span class="time-lab">Hrs</span></div>
                <div class="time-box"><span id="minutes" class="time-val">00</span><span class="time-lab">Min</span></div>
                <div class="time-box"><span id="seconds" class="time-val">00</span><span class="time-lab">Sec</span></div>
            </div>

            <button class="btn-heart" onclick="toggleLetter()">Open My Heart üíå</button>
        </div>
    </div>

    <div id="letterModal" onclick="toggleLetter()">
        <div class="letter-content" onclick="event.stopPropagation()">
            <h2 style="font-family: 'Dancing Script'; color: #ff416c; margin-top: 0;">My Everything, Syafiqah</h2>
            <p>Happy Birthday, my love! Today marks <b>945 days</b> of us. That's nearly a thousand days of me being the luckiest person in the world just because I have you.</p>
            <p>I still remember our first date‚Äîhow stunning you looked and the way my heart raced. You are still the person who makes me smile the brightest.</p>
            <p><b>I know you‚Äôve been working so hard on your STPM studies. I‚Äôve seen the effort and the long nights. My biggest wish for you is that you get the absolute BEST results you deserve. You are brilliant, and I believe in you 100%!</b></p>
            <p>Happy Birthday, my queen. You are my peace and my home. üíó</p>
            <button style="width:100%; border:none; padding:12px; background:#f8f9fa; border-radius:15px; font-weight:600; cursor:pointer;" onclick="toggleLetter()">Close with Love</button>
        </div>
    </div>

    <div class="music-control" onclick="toggleMusic()" id="musicIcon">üéµ</div>

    <script>
        // YouTube API Load
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0', videoId: 'oXrsn1K6660',
                playerVars: { 'autoplay': 0, 'loop': 1, 'playlist': 'oXrsn1K6660', 'playsinline': 1 },
                events: { 'onReady': onPlayerReady }
            });
        }

        function onPlayerReady(event) { console.log("Music Ready"); }

        function initExperience() {
            const overlay = document.getElementById('welcomeOverlay');
            overlay.style.opacity = '0';
            setTimeout(() => { overlay.style.display = 'none'; }, 800);
            
            if (player && player.playVideo) {
                player.playVideo();
                document.getElementById('musicIcon').innerHTML = "‚è∏Ô∏è";
            }
        }

        function toggleMusic() {
            const state = player.getPlayerState();
            if (state == 1) { player.pauseVideo(); document.getElementById('musicIcon').innerHTML = "üéµ"; }
            else { player.playVideo(); document.getElementById('musicIcon').innerHTML = "‚è∏Ô∏è"; }
        }

        function toggleLetter() {
            const modal = document.getElementById('letterModal');
            modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
        }

        // Countdown Logic (Target: Feb 14, 2026)
        const birthday = new Date(2026, 1, 14, 0, 0, 0).getTime();
        setInterval(function() {
            const now = new Date().getTime();
            const diff = birthday - now;
            document.getElementById("days").innerHTML = Math.max(0, Math.floor(diff / 86400000));
            document.getElementById("hours").innerHTML = Math.max(0, Math.floor((diff % 86400000) / 3600000));
            document.getElementById("minutes").innerHTML = Math.max(0, Math.floor((diff % 3600000) / 60000));
            document.getElementById("seconds").innerHTML = Math.max(0, Math.floor((diff % 60000) / 1000));
            if (diff < 0) { 
                confetti({ particleCount: 2, angle: 60, spread: 55, origin: { x: 0 } });
                confetti({ particleCount: 2, angle: 120, spread: 55, origin: { x: 1 } });
            }
        }, 1000);
    </script>
</body>
</html>
